# ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ ì‚¬ìš© ê°€ì´ë“œ (Sorting Layer ì§€ì›)

Unity í”„ë¡œì íŠ¸ì— 3ê°€ì§€ ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

## ğŸ“ ìƒì„±ëœ ìŠ¤í¬ë¦½íŠ¸

1. **CinematicVideoPlayer.cs** - 05_PeuangSadSceneìš© (ì‹œë„¤ë§ˆí‹±)
2. **EndingVideoPlayer.cs** - 08_EndingSceneìš© (ì—”ë”©)
3. **TitleLoopVideoPlayer.cs** - 00_TitleSceneìš© (íƒ€ì´í‹€ ë°°ê²½)

## â­ ì£¼ìš” ì—…ë°ì´íŠ¸: Sorting Layer ì§€ì›

ëª¨ë“  ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ì— **Sorting Layer ì„¤ì • ê¸°ëŠ¥**ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!

### 2ê°€ì§€ ë Œë”ë§ ëª¨ë“œ

1. **CameraNearPlane** (ê¸°ë³¸ê°’)
   - ì¹´ë©”ë¼ì— ì§ì ‘ ë Œë”ë§
   - ë¹ ë¥´ê³  ê°„ë‹¨
   - âŒ Sorting Layer ì‚¬ìš© ë¶ˆê°€

2. **RenderTexture** (Sorting Layer í•„ìš” ì‹œ)
   - Canvas + RawImageë¥¼ í†µí•´ ë Œë”ë§
   - âœ… Sorting Layer/Order ì™„ë²½ ì§€ì›
   - Canvas ìë™ ìƒì„±
   - UI ìš”ì†Œì™€ í•¨ê»˜ ì‚¬ìš© ê°€ëŠ¥

---

## ğŸ¬ 1. CinematicVideoPlayer (05_PeuangSadScene)

### ì„¤ì • ë°©ë²•

1. **05_PeuangSadScene** ì”¬ì„ ì—½ë‹ˆë‹¤
2. **ë¹ˆ GameObject**ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (ì´ë¦„: "CinematicVideoPlayer")
3. **CinematicVideoPlayer** ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
4. Inspectorì—ì„œ ì„¤ì •:

#### Video Settings
   - **Video Clip**: ì¬ìƒí•  ë¹„ë””ì˜¤ íŒŒì¼ì„ ë“œë˜ê·¸

#### Rendering (â­ NEW)
   - **Render Mode**: ë Œë”ë§ ë°©ì‹ ì„ íƒ
     - `CameraNearPlane`: ì¹´ë©”ë¼ì— ì§ì ‘ ë Œë”ë§ (ê¸°ë³¸ê°’)
     - `RenderTexture`: Sorting Layer ì‚¬ìš© ì‹œ ì„ íƒ
   - **Target Raw Image**: (ì„ íƒì‚¬í•­) ê¸°ì¡´ RawImage ì‚¬ìš© ì‹œ í• ë‹¹ (ë¹„ì›Œë‘ë©´ ìë™ ìƒì„±)
   - **Sorting Layer Name**: Sorting Layer ì´ë¦„ (ì˜ˆ: "Video", "UI")
   - **Sorting Order**: Sorting Order ê°’ (ê¸°ë³¸ 100)

#### Scene Transition
   - **Next Scene Name**: "06_UnkillableBossScene" (ê¸°ë³¸ê°’)
   - **Transition Delay**: ì˜ìƒ ì¢…ë£Œ í›„ ì”¬ ì „í™˜ê¹Œì§€ ëŒ€ê¸° ì‹œê°„ (ê¸°ë³¸ 1ì´ˆ)

#### Skip Settings
   - **Allow Skip**: ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ ìŠ¤í‚µ í—ˆìš© ì—¬ë¶€
   - **Skip Available After**: ìŠ¤í‚µ ê°€ëŠ¥ ì‹œì‘ ì‹œê°„ (ê¸°ë³¸ 2ì´ˆ)

### ì¹´ë©”ë¼ ì„¤ì •
- Main Cameraì˜ **Clear Flags**ë¥¼ **Solid Color**ë¡œ ì„¤ì •

### Sorting Layer ì‚¬ìš© ë°©ë²•
1. Inspectorì—ì„œ **Render Mode**ë¥¼ `RenderTexture`ë¡œ ë³€ê²½
2. **Sorting Layer Name** ì…ë ¥ (ì˜ˆ: "Video")
3. **Sorting Order** ì„¤ì • (ë†’ì„ìˆ˜ë¡ ìœ„ì— í‘œì‹œ)
4. Canvasì™€ RawImageê°€ ìë™ìœ¼ë¡œ ìƒì„±ë¨

### ê¸°ëŠ¥
- âœ… ì „ì²´í™”ë©´ ë¹„ë””ì˜¤ ìë™ ì¬ìƒ
- âœ… ì¬ìƒ ì™„ë£Œ í›„ ìë™ìœ¼ë¡œ ë‹¤ìŒ ì”¬ìœ¼ë¡œ ì „í™˜
- âœ… ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ ìŠ¤í‚µ ê°€ëŠ¥ (ì„¤ì •ì— ë”°ë¼)
- âœ… ì˜ìƒ ì‹œì‘ í›„ Nì´ˆ ì´í›„ë¶€í„°ë§Œ ìŠ¤í‚µ ê°€ëŠ¥

---

## ğŸ‰ 2. EndingVideoPlayer (08_EndingScene)

### ì„¤ì • ë°©ë²•

1. **08_EndingScene** ì”¬ì„ ì—½ë‹ˆë‹¤
2. **ë¹ˆ GameObject**ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (ì´ë¦„: "EndingVideoPlayer")
3. **EndingVideoPlayer** ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
4. Inspectorì—ì„œ ì„¤ì •:

#### Video Settings
   - **Video Clip**: ì—”ë”© ë¹„ë””ì˜¤ íŒŒì¼ì„ ë“œë˜ê·¸

#### Rendering (â­ NEW)
   - **Render Mode**: ë Œë”ë§ ë°©ì‹ ì„ íƒ
     - `CameraNearPlane`: ì¹´ë©”ë¼ì— ì§ì ‘ ë Œë”ë§ (ê¸°ë³¸ê°’)
     - `RenderTexture`: Sorting Layer ì‚¬ìš© ì‹œ ì„ íƒ
   - **Target Raw Image**: (ì„ íƒì‚¬í•­) ê¸°ì¡´ RawImage ì‚¬ìš© ì‹œ í• ë‹¹
   - **Sorting Layer Name**: Sorting Layer ì´ë¦„
   - **Sorting Order**: Sorting Order ê°’ (ê¸°ë³¸ 100)

#### After Ending
   - **After Ending Action**: ì˜ìƒ ì¢…ë£Œ í›„ ë™ì‘ ì„ íƒ
     - `ReturnToTitle`: íƒ€ì´í‹€ í™”ë©´ìœ¼ë¡œ ë³µê·€ (ê¸°ë³¸ê°’)
     - `ShowUI`: UI í‘œì‹œ (í¬ë ˆë”§ ë“±)
     - `QuitGame`: ê²Œì„ ì¢…ë£Œ
   - **Title Scene Name**: "00_TitleScene" (ReturnToTitle ì„ íƒ ì‹œ)
   - **Ending Delay**: ì˜ìƒ ì¢…ë£Œ í›„ ëŒ€ê¸° ì‹œê°„ (ê¸°ë³¸ 3ì´ˆ)

#### UI
   - **Ending UI**: ShowUI ì„ íƒ ì‹œ í‘œì‹œí•  UI GameObject

### ì¹´ë©”ë¼ ì„¤ì •
- Main Cameraì˜ **Clear Flags**ë¥¼ **Solid Color**ë¡œ ì„¤ì •

### ê¸°ëŠ¥
- âœ… ì „ì²´í™”ë©´ ì—”ë”© ë¹„ë””ì˜¤ ì¬ìƒ
- âœ… ì¬ìƒ ì™„ë£Œ í›„ ì„¤ì •ì— ë”°ë¼ ë™ì‘:
  - íƒ€ì´í‹€ë¡œ ë³µê·€
  - í¬ë ˆë”§ UI í‘œì‹œ
  - ê²Œì„ ì¢…ë£Œ
- âœ… ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ ìŠ¤í‚µ ê°€ëŠ¥
- âœ… UI ë²„íŠ¼ ì—°ê²° ê°€ëŠ¥ (OnReturnToTitleButton, OnQuitGameButton)

---

## ğŸ® 3. TitleLoopVideoPlayer (00_TitleScene)

### ì„¤ì • ë°©ë²•

1. **00_TitleScene** ì”¬ì„ ì—½ë‹ˆë‹¤
2. **ë¹ˆ GameObject**ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (ì´ë¦„: "TitleBackgroundVideo")
3. **TitleLoopVideoPlayer** ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
4. Inspectorì—ì„œ ì„¤ì •:

#### Video Settings
   - **Video Clip**: ë£¨í”„ ì¬ìƒí•  ë°°ê²½ ë¹„ë””ì˜¤ë¥¼ ë“œë˜ê·¸
   - **Playback Speed**: ì¬ìƒ ì†ë„ (ê¸°ë³¸ 1.0)

#### Rendering (â­ NEW)
   - **Render Mode**: ë Œë”ë§ ë°©ì‹ ì„ íƒ
     - `CameraNearPlane`: ì¹´ë©”ë¼ì— ì§ì ‘ ë Œë”ë§ (ê¸°ë³¸ê°’)
     - `RenderTexture`: Sorting Layer ì‚¬ìš© ì‹œ ì„ íƒ
   - **Target Raw Image**: (ì„ íƒì‚¬í•­) ê¸°ì¡´ RawImage ì‚¬ìš© ì‹œ í• ë‹¹
   - **Sorting Layer Name**: Sorting Layer ì´ë¦„
   - **Sorting Order**: Sorting Order ê°’ (ê¸°ë³¸ -10, ë°°ê²½ìš©ì´ë¯€ë¡œ ë‚®ê²Œ ì„¤ì •)

#### Audio Settings
   - **Enable Audio**: ë¹„ë””ì˜¤ ì˜¤ë””ì˜¤ í™œì„±í™” ì—¬ë¶€
   - **Volume**: ì˜¤ë””ì˜¤ ë³¼ë¥¨ (0-1, ê¸°ë³¸ 0.3)

#### Advanced
   - **Wait Until Ready**: ë¹„ë””ì˜¤ ì¤€ë¹„ ì™„ë£Œ ì „ê¹Œì§€ ëŒ€ê¸°
   - **Fade In Duration**: í˜ì´ë“œ ì¸ íš¨ê³¼ ì‹œê°„ (ê¸°ë³¸ 0.5ì´ˆ)

### ì¹´ë©”ë¼ ì„¤ì •
- Main Cameraì˜ **Clear Flags**ë¥¼ **Solid Color**ë¡œ ì„¤ì •

### í˜ì´ë“œ ì¸ íš¨ê³¼ (ì„ íƒì‚¬í•­)
GameObjectì— **CanvasGroup** ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í•˜ë©´ ìë™ìœ¼ë¡œ í˜ì´ë“œ ì¸ íš¨ê³¼ê°€ ì ìš©ë©ë‹ˆë‹¤.

### Sorting Layer ì‚¬ìš© ì˜ˆì‹œ
íƒ€ì´í‹€ UI ìœ„ì— ì˜ìƒì´ í‘œì‹œë˜ì§€ ì•Šë„ë¡ ì„¤ì •:
1. **Render Mode**: `RenderTexture`
2. **Sorting Layer Name**: "Background"
3. **Sorting Order**: -10 (íƒ€ì´í‹€ UIë³´ë‹¤ ë‚®ê²Œ)

### ê¸°ëŠ¥
- âœ… ë¬´í•œ ë£¨í”„ ì¬ìƒ
- âœ… ë°°ê²½ ìŒì•… ë³¼ë¥¨ ì¡°ì ˆ ê°€ëŠ¥
- âœ… ì¬ìƒ ì†ë„ ì¡°ì ˆ ê°€ëŠ¥
- âœ… í˜ì´ë“œ ì¸ íš¨ê³¼
- âœ… ì¼ì‹œì •ì§€/ì¬ê°œ ë©”ì„œë“œ ì œê³µ (PauseVideo, ResumeVideo)

### UI ë²„íŠ¼ ì—°ê²° (ì˜ˆì‹œ)
íƒ€ì´í‹€ UI ì„¤ì •ì—ì„œ ìŒì†Œê±° ë²„íŠ¼ ë“±ì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```csharp
// ë²„íŠ¼ í´ë¦­ ì‹œ ìŒì†Œê±° í† ê¸€
TitleLoopVideoPlayer player = FindObjectOfType<TitleLoopVideoPlayer>();
if (isMuted)
    player.SetVolume(0f);
else
    player.SetVolume(0.3f);
```

---

## ğŸ“¹ ë¹„ë””ì˜¤ íŒŒì¼ ì¤€ë¹„

### ì§€ì› í¬ë§·
Unity VideoPlayerê°€ ì§€ì›í•˜ëŠ” í¬ë§·:
- **.mp4** (H.264 ê¶Œì¥)
- **.mov**
- **.webm**
- **.avi**

### ê¶Œì¥ ì‚¬ì–‘
- **í•´ìƒë„**: 1920x1080 (Full HD) ë˜ëŠ” 1280x720 (HD)
- **ì½”ë±**: H.264
- **í”„ë ˆì„ë ˆì´íŠ¸**: 30fps ë˜ëŠ” 60fps
- **ë¹„íŠ¸ë ˆì´íŠ¸**: 3-8 Mbps

### ë¹„ë””ì˜¤ íŒŒì¼ ìœ„ì¹˜
ë¹„ë””ì˜¤ íŒŒì¼ì„ í”„ë¡œì íŠ¸ì— ì¶”ê°€:
1. `Assets/Videos/` í´ë” ìƒì„± (ì—†ìœ¼ë©´)
2. ë¹„ë””ì˜¤ íŒŒì¼ì„ ì´ í´ë”ì— ë³µì‚¬
3. Unityì—ì„œ ë¹„ë””ì˜¤ íŒŒì¼ì´ ìë™ìœ¼ë¡œ importë¨
4. Inspectorì—ì„œ Video Clip ìŠ¬ë¡¯ì— ë“œë˜ê·¸ ì•¤ ë“œë¡­

---

## ğŸ”§ ì¶”ê°€ ì„¤ì • íŒ

### 1. Sorting Layer ì„¤ì •
Unity ì—ë””í„°ì—ì„œ Sorting Layerë¥¼ ë¨¼ì € ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤:
- **Edit â†’ Project Settings â†’ Tags and Layers**
- **Sorting Layers** ì„¹ì…˜ì—ì„œ ìƒˆ ë ˆì´ì–´ ì¶”ê°€
- ì˜ˆì‹œ: "Background", "Video", "UI", "Foreground"

### 2. ë¹„ë””ì˜¤ ì••ì¶• ì„¤ì • (Unity)
ë¹„ë””ì˜¤ íŒŒì¼ ì„ íƒ â†’ Inspector â†’ Import Settings:
- **Transcode**: ì²´í¬í•˜ë©´ Unityê°€ ìë™ìœ¼ë¡œ ìµœì í™”
- **Codec**: H264 ê¶Œì¥
- **Quality**: Medium ~ High

### 3. ë Œë”ë§ ìˆœì„œ ì œì–´

#### CameraNearPlane ëª¨ë“œ
- Cameraì˜ **Depth** ê°’ìœ¼ë¡œ ì œì–´
- UIê°€ ë¹„ë””ì˜¤ ìœ„ì— í‘œì‹œë˜ë ¤ë©´ Canvasë¥¼ **Screen Space - Overlay**ë¡œ ì„¤ì •

#### RenderTexture ëª¨ë“œ (â­ ê¶Œì¥)
- **Sorting Layer**ì™€ **Sorting Order**ë¡œ ì •ë°€í•˜ê²Œ ì œì–´
- ì˜ˆì‹œ:
  - ë°°ê²½ ë¹„ë””ì˜¤: Layer "Background", Order -10
  - ê²Œì„ ìŠ¤í”„ë¼ì´íŠ¸: Layer "Default", Order 0
  - UI: Layer "UI", Order 100
  - ì‹œë„¤ë§ˆí‹± ë¹„ë””ì˜¤: Layer "Video", Order 200

### 4. DontDestroyOnLoad í˜¸í™˜ì„±
í˜„ì¬ GameManager ë“±ì´ DontDestroyOnLoadë¥¼ ì‚¬ìš© ì¤‘ì´ë¯€ë¡œ:
- ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ëŠ” ê° ì”¬ì— ë¡œì»¬ë¡œ ì¡´ì¬
- ì”¬ ì „í™˜ ì‹œ ìë™ìœ¼ë¡œ ì •ë¦¬ë¨
- ë³„ë„ë¡œ DontDestroyOnLoad ì²˜ë¦¬ ë¶ˆí•„ìš”

### 5. ì„±ëŠ¥ ìµœì í™”
- **CameraNearPlane**: ë” ë¹ ë¦„, Sorting Layer ë¶ˆí•„ìš”í•œ ê²½ìš° ì‚¬ìš©
- **RenderTexture**: ì•½ê°„ ë” ë¬´ê±°ì›€, Sorting Layer í•„ìš”í•œ ê²½ìš°ë§Œ ì‚¬ìš©

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ë¹„ë””ì˜¤ê°€ ì¬ìƒë˜ì§€ ì•Šì„ ë•Œ
1. ë¹„ë””ì˜¤ í´ë¦½ì´ ì œëŒ€ë¡œ í• ë‹¹ë˜ì—ˆëŠ”ì§€ í™•ì¸
2. Consoleì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
3. ë¹„ë””ì˜¤ íŒŒì¼ í¬ë§· í™•ì¸ (H.264 .mp4 ê¶Œì¥)
4. Build Settingsì—ì„œ ì”¬ì´ ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸

### ë¹„ë””ì˜¤ê°€ ê²€ì€ í™”ë©´ìœ¼ë¡œ ë‚˜ì˜¬ ë•Œ
1. Cameraì˜ Clear Flagsë¥¼ Solid Colorë¡œ ì„¤ì •
2. VideoPlayerì˜ Render Modeê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
3. Cameraê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### ì”¬ ì „í™˜ì´ ì•ˆ ë  ë•Œ
1. Next Scene Nameì´ ì •í™•í•œì§€ í™•ì¸
2. Build Settingsì— í•´ë‹¹ ì”¬ì´ ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸
3. Consoleì—ì„œ ì—ëŸ¬ ë¡œê·¸ í™•ì¸

---

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### ëª¨ë°”ì¼ ë¹Œë“œ ì‹œ
- ë¹„ë””ì˜¤ í•´ìƒë„ë¥¼ 1280x720 ì´í•˜ë¡œ ë‚®ì¶¤
- ë¹„íŠ¸ë ˆì´íŠ¸ 3 Mbps ì´í•˜ë¡œ ì„¤ì •
- Transcode ì˜µì…˜ í™œì„±í™”

### PC/ì½˜ì†” ë¹Œë“œ ì‹œ
- 1920x1080 Full HD ì‚¬ìš© ê°€ëŠ¥
- ë¹„íŠ¸ë ˆì´íŠ¸ 5-8 Mbps
- ê³ í’ˆì§ˆ ì½”ë± ì‚¬ìš©

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê¸°ë³¸ ì„¤ì •
- [ ] Unityì—ì„œ Sorting Layer ìƒì„± (Edit â†’ Project Settings â†’ Tags and Layers)
- [ ] 05_PeuangSadSceneì— CinematicVideoPlayer ì¶”ê°€ ë° ë¹„ë””ì˜¤ í´ë¦½ í• ë‹¹
- [ ] 08_EndingSceneì— EndingVideoPlayer ì¶”ê°€ ë° ë¹„ë””ì˜¤ í´ë¦½ í• ë‹¹
- [ ] 00_TitleSceneì— TitleLoopVideoPlayer ì¶”ê°€ ë° ë¹„ë””ì˜¤ í´ë¦½ í• ë‹¹
- [ ] ê° ì”¬ì˜ ì¹´ë©”ë¼ ì„¤ì • í™•ì¸
- [ ] ë¹„ë””ì˜¤ íŒŒì¼ import ë° ìµœì í™”
- [ ] Build Settingsì— ëª¨ë“  ì”¬ ì¶”ê°€ í™•ì¸

### Sorting Layer ì‚¬ìš© ì‹œ (ì„ íƒì‚¬í•­)
- [ ] ê° VideoPlayerì˜ Render Modeë¥¼ RenderTextureë¡œ ë³€ê²½
- [ ] Sorting Layer Nameê³¼ Order ì„¤ì •
- [ ] ë‹¤ë¥¸ UI ìš”ì†Œë“¤ì˜ Sorting Layerì™€ ì¶©ëŒí•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸

### í…ŒìŠ¤íŠ¸
- [ ] ê° ì”¬ì—ì„œ ë¹„ë””ì˜¤ ì¬ìƒ í…ŒìŠ¤íŠ¸
- [ ] Sorting Layer ìˆœì„œ í™•ì¸ (UIì™€ ë¹„ë””ì˜¤ ë Œë”ë§ ìˆœì„œ)
- [ ] ì”¬ ì „í™˜ ì •ìƒ ì‘ë™ í™•ì¸
- [ ] ìŠ¤í‚µ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

---

## ğŸ“ ì¶”ê°€ ë„ì›€ë§

ê° ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” Context Menuê°€ ìˆì–´ ì—ë””í„°ì—ì„œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- ì»´í¬ë„ŒíŠ¸ì—ì„œ ìš°í´ë¦­ â†’ "Debug: Skip to Next Scene" ë“±

ë””ë²„ê·¸ ë¡œê·¸ë¥¼ í™•ì¸í•˜ë ¤ë©´ Inspectorì—ì„œ **Show Debug Messages**ë¥¼ ì²´í¬í•˜ì„¸ìš”.
